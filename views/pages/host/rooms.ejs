<!DOCTYPE html>
<html>
<head>
  <% include ../../partials/header.ejs %>
</head>

<body>

  <% include ../../partials/nav.ejs %>

  <main>

    <div class="ui centered stackable grid container">

        <div class="five wide column">

          <div class="ui secondary large vertical fluid menu">
            <a href="/" class="item">
              <i class="lab icon"></i> My Activities
            </a>
            <a href="/rooms" class="active item">
              <i class="group icon"></i> My Rooms
            </a>
            <a href="/settings" class="item">
              <i class="cogs icon"></i> Settings
            </a>
          </div>

        </div>

        <div class="eleven wide column">

          <div class="ui raised padded segment">

            <h3 class="ui header">
              <i class="users icon"></i>
              <div class="content">
                My Rooms
                <div class="sub header">Manage your rooms</div>
              </div>
            </h3>

            <div class="ui info message" v-if="rooms.length == 0"><i class="info circle icon"></i> To get started, add a new room.</div>

            <table class="ui basic celled table" v-if="rooms.length > 0">

                <thead>
                    <tr>
                        <th>Room name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="room in rooms">
                        <td>{{ room.title }}</td>
                        <td>
                            <a :href="'/room/' + room._id" class="ui button" target="_blank"><i class="expand icon"></i> Open</a>
                            <div class="ui button" :click="showEditor"><i class="pencil icon"></i> Edit</div>
                            <div class="ui button"><i class="cross icon"></i> Delete</div>
                        <td>
                    </tr>
                </tbody>

            </table>

          </div>

        </div>

      </div>

  </main>

  <modal :modal=""></modal>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type="text/javascript" src="/semantic/dist/semantic.min.js"></script>
  <script type="text/javascript">
      $('.ui.checkbox').checkbox();
      $('.ui.modal').modal();

      var user = <%- user %>;
      var rooms = <%-rooms%>;
  </script>
  <script src="../../socket.io/socket.io.js"></script>
  <script type="text/javascript" src="/scripts/vue/dist/vue.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/client.js"></script>

</body>
</html>
